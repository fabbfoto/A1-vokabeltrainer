/* ðŸ”§ GRID-BREITEN-FIX: Das eigentliche Problem lÃ¶sen */
/* Ersetze deine minimal-legacy.css komplett durch das hier: */

/* NUR Kasus-Highlighting (fachspezifisch - NICHT ersetzbar) */
.kasus-nominativ { background-color: #fef3c7; }
.kasus-akkusativ { background-color: #fecaca; }
.kasus-dativ { background-color: #bbf7d0; }
.kasus-genitiv { background-color: #e0e7ff; }
.kasus-verb { background-color: #f3e8ff; }

/* ðŸŽ¯ HAUPTPROBLEM: Grid-Container Spaltenbreiten */
#navigation-container {
    /* Erzwinge breitere Spalten */
    grid-template-columns: repeat(3, minmax(200px, 1fr)) !important;
    
    /* Bessere Grid-Eigenschaften */
    gap: 1rem !important;
    align-items: stretch !important;
    justify-items: stretch !important;
    
    /* Stelle sicher dass es ein Grid bleibt */
    display: grid !important;
}

/* ðŸ”§ BUTTON-FIX: Stelle sicher dass Buttons den verfÃ¼gbaren Platz nutzen */
#navigation-container > button {
    /* Erzwinge rechteckige Form durch Mindestbreite */
    min-width: 200px !important;
    min-height: 90px !important;
    max-height: 110px !important;
    
    /* Nutze den gesamten verfÃ¼gbaren Grid-Bereich */
    width: 100% !important;
    
    /* Flex-Layout fÃ¼r Button-Inhalt */
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    align-items: center !important;
    
    /* Vermeide Schrumpfen */
    flex-shrink: 0 !important;
}

/* ðŸ”§ RESPONSIVE: Angepasste Breakpoints */
@media (max-width: 640px) {
    #navigation-container {
        grid-template-columns: 1fr !important;
    }
    #navigation-container > button {
        min-width: 100% !important;
    }
}

@media (min-width: 641px) and (max-width: 1023px) {
    #navigation-container {
        grid-template-columns: repeat(2, minmax(200px, 1fr)) !important;
    }
}

@media (min-width: 1024px) {
    #navigation-container {
        grid-template-columns: repeat(3, minmax(250px, 1fr)) !important;
    }
    #navigation-container > button {
        min-width: 250px !important;
    }
}

/* âœ… ACTION BUTTONS: BÃ¼ndige Ausrichtung mit Grid */
#navigation-container > button#start-test-mode-btn,
#navigation-container > button#device-sync-btn,
#navigation-container > button[data-test-main-topic-only] {
    /* HÃ¶he wie gewÃ¼nscht halbiert */
    min-height: 45px !important;
    max-height: 55px !important;
    
    /* NEUE AUSRICHTUNG: BÃ¼ndig mit Grid-Kanten */
    margin: 0 !important;
    align-self: start !important; /* Oben am Grid-Slot ausrichten */
    
    /* Kompaktere InnenabstÃ¤nde */
    padding: 8px 16px !important;
    
    /* Ãœberspanne alle Spalten aber bleibe im Grid */
    grid-column: 1 / -1 !important;
    
    /* Entferne eventuelle AbstÃ¤nde die das Grid stÃ¶ren */
    transform: none !important;
}

/* âœ… GRID-CONTAINER: Bessere Slot-Kontrolle */
#navigation-container {
    /* Explizite Grid-Zeilen fÃ¼r bessere Kontrolle */
    grid-auto-rows: auto !important;
    
    /* Entferne Gaps die Action-Buttons verschieben kÃ¶nnten */
    row-gap: 1rem !important;
    column-gap: 1rem !important;
    
    /* Alle Items am Grid-Start ausrichten */
    align-items: start !important;
    justify-items: stretch !important;
}

/* âœ… THEMEN-BUTTONS: Gleiche Ausrichtung */
#navigation-container > button:not([data-test-main-topic-only]):not(#start-test-mode-btn):not(#device-sync-btn) {
    /* Alle Topic-Buttons auch oben ausrichten */
    align-self: start !important;
    margin: 0 !important;
}

/* âœ… PLATZHALTER: Korrekte Grid-Integration */
#navigation-container > div[data-placeholder] {
    visibility: hidden;
    min-height: 90px;
    max-height: 110px;
    pointer-events: none;
    margin: 0 !important;
    align-self: start !important;
}